/*
 * iron_tips.cpp
 *
 *  Created on: 15 aug. 2019.
 *      Author: Alex
 *
 *  2024 AUG 14
 *  2024 OCT 05
 *  	Updated JBC tip list
 */

#include "iron_tips.h"
#include "string.h"

static char t12_names[][tip_name_sz] = {
		{'H', 'O',  'G',  'U',  'N' },					// Should be the first (unselectable) tip in this list
		{'B', '\0', '\0', '\0', '\0'},
		{'B', '1',  '\0', '\0', '\0'},
		{'B', '2',  '\0', '\0', '\0'},
		{'B', '3',  '\0', '\0', '\0'},
		{'B', '4',  '\0', '\0', '\0'},
		{'B', '2',  'Z',  '\0', '\0'},
		{'B', 'C',  '1',  '\0', '\0'},
		{'B', 'C',  '1',  '.' ,  '5'},
		{'B', 'C',  '2',  '\0', '\0'},
		{'B', 'C',  '3',  '\0', '\0'},
		{'B', 'C',  '1',  'Z',  '\0'},
		{'B', 'C',  '2',  'Z',  '\0'},
		{'B', 'C',  '4',  'Z',  '\0'},
		{'B', 'C',  'F',  '1',  '\0'},
		{'B', 'C',  'F',  '2',  '\0'},
		{'B', 'C',  'F',  '3',  '\0'},
		{'B', 'C',  'F',  '4',  '\0'},
		{'B', 'C',  'F',  '1',   'Z'},
		{'B', 'C',  'F',  '2',   'Z'},
		{'B', 'C',  'F',  '3',   'Z'},
		{'B', 'C',  'M',  '2',  '\0'},
		{'B', 'C',  'M',  '3',  '\0'},
		{'B', 'L', '\0', '\0',  '\0'},
		{'B', 'Z', '\0', '\0',  '\0'},
		{'C', '1', '\0', '\0',  '\0'},
		{'C', '2', '\0', '\0',  '\0'},
		{'C', '3', '\0', '\0',  '\0'},
		{'C', '4', '\0', '\0',  '\0'},
		{'D', '0',  '8', '\0',  '\0'},
		{'D', '1',  '2', '\0',  '\0'},
		{'D', '1',  '6', '\0',  '\0'},
		{'D', '2',  '4', '\0',  '\0'},
		{'D', '3',  '2', '\0',  '\0'},
		{'D', '5',  '2', '\0',  '\0'},
		{'D', '4', '\0', '\0',  '\0'},
		{'D', 'L',  '1',  '2',  '\0'},
		{'D', 'L',  '3',  '2',  '\0'},
		{'D', 'L',  '5',  '2',  '\0'},
		{'D', '1',  '2',  'Z',  '\0'},
		{'D', '2',  '4',  'Z',  '\0'},
		{'D', '4',  'Z', '\0',  '\0'},
		{'I', '\0', '\0', '\0', '\0'},
		{'I',  'L', '\0', '\0', '\0'},
		{'I',  'L',  'S', '\0', '\0'},
		{'J',  '0',  '2', '\0', '\0'},
		{'J',  'L',  '0',  '2', '\0'},
		{'J',  'S',  '0',  '2', '\0'},
		{'K', '\0', '\0', '\0', '\0'},
		{'K',  'F', '\0', '\0', '\0'},
		{'K',  'L', '\0', '\0', '\0'},
		{'K',  'R', '\0', '\0', '\0'},
		{'K',  'F',  'Z', '\0', '\0'},
		{'K',  'R',  'Z', '\0', '\0'},
		{'K',  'U', '\0', '\0', '\0'},
		{'W',  'B',  '2', '\0', '\0'},
		{'W',  'D',  '0',  '8', '\0'},
		{'W',  'D',  '1',  '2', '\0'},
		{'W',  'D',  '1',  '6', '\0'},
		{'W',  'D',  '5',  '2', '\0'},
		{'W',  'I', '\0', '\0', '\0'},
		{'N',  '1',  '-',  '0',  '6'},
		{'N',  '1',  '-',  '0',  '8'},
		{'N',  '1',  '-',  '1',  '0'},
		{'N',  '1',  '-',  '1',  '3'},
		{'N',  '1',  '-',  '1',  '6'},
		{'N',  '1',  '-',  '2',  '0'},
		{'N',  '1',  '-',  '2',  '3'},
		{'N',  '1',  '-',  'L',  '1'},
		{'1',  '0',  '0',  '1', '\0'},
		{'1',  '0',  '0',  '2', '\0'},
		{'1',  '0',  '0',  '3', '\0'},
		{'1',  '0',  '0',  '4', '\0'},
		{'1',  '0',  '0',  '5', '\0'},
		{'1',  '0',  '0',  '6', '\0'},
		{'1',  '0',  '0',  '7', '\0'},
		{'1',  '0',  '0',  '8', '\0'},
		{'1',  '0',  '0',  '9', '\0'},
		{'1',  '0',  '1',  '0', '\0'},
		{'1',  '2',  '0',  '1', '\0'},
		{'1',  '2',  '0',  '2', '\0'},
		{'1',  '2',  '0',  '3', '\0'},
		{'1',  '2',  '0',  '4', '\0'},
		{'1',  '2',  '0',  '5', '\0'},
		{'1',  '2',  '0',  '6', '\0'},
		{'1',  '2',  '0',  '7', '\0'},
		{'1',  '2',  '0',  '8', '\0'},
		{'1',  '2',  '0',  '9', '\0'},
		{'1',  '4',  '0',  '1', '\0'},
		{'1',  '4',  '0',  '2', '\0'},
		{'1',  '4',  '0',  '3', '\0'},
		{'1',  '4',  '0',  '4', '\0'},
		{'1',  '4',  '0',  '5', '\0'},
		{'1',  '4',  '0',  '6', '\0'},
		{'H',  '9',  '3',  '6', '\0'},
		{'T',  'W',  'E',  'E', 'Z'}
};

static char jbc_names[][tip_name_sz] = {
		{'1', '.',  '0',  'B',  '\0'},
		{'0', '.',  '6',  'C',  '\0'},
		{'1', '.',  '5',  'C',  '\0'},
		{'2', '.',  '2',  'C',  '\0'},
		{'2', '.',  '8',  'C',  'F' },
		{'3', '.',  '0',  'C',  '\0'},
		{'3', '.',  '5',  'C',  '\0'},
		{'0', '.',  '8',  'D',  '\0'},
		{'1', '.',  '2',  'D',  '\0'},
		{'1', '.',  '6',  'D',  '\0'},
		{'1', '.',  '8',  'D',  '\0'},
		{'2', '.',  '2',  'D',  '\0'},
		{'2', '.',  '4',  'D',  '\0'},
		{'3', '.',  '2',  'D',  '\0'},
		{'4', '.',  '0',  'D',  '\0'},
		{'4', '.',  '8',  'D',  '\0'},
		{'6', '.',  '6',  'D',  '\0'},
		{'0', '.',  '3',  'I',  '\0'},
		{'0', '.',  '3',  'I',  'S' },
		{'0', '.',  '4',  'I',  'S' },
		{'1', '.',  '5',  'K',  '\0'},
		{'2', '.',  '5',  'K',  '\0'},
		{'3', '.',  '2',  'K',  '\0'},
		{'4', '.',  '7',  'K',  '\0'},
		{'K', '\0', '\0', '\0', '\0'},
		{'S', 'K',  '\0', '\0', '\0'},
		{'S', 'K',  '2',  '.',  '5' },
		{'6', '.',  '7',  'U',  '\0'},
		{'7', '.',  '6',  'U',  '\0'},
		{'T', '1',  '0',  '\0', '\0'},
		{'T', '1',  '5',  '\0', '\0'},
		{'T', '2',  '1',  '\0', '\0'},
		{'T', '3',  '2',  '\0', '\0'},
		{'T', '4',  '0',  '\0', '\0'},

		{'0', '0',  '3', '\0',  '\0'},
		{'0', '2',  '9', '\0',  '\0'},
		{'0', '3',  '0', '\0',  '\0'},
		{'0', '3',  '5', '\0',  '\0'},
		{'0', '3',  '6', '\0',  '\0'},
		{'0', '3',  '9', '\0',  '\0'},
		{'0', '4',  '1', '\0',  '\0'},
		{'0', '4',  '4', '\0',  '\0'},
		{'0', '4',  '5', '\0',  '\0'},
		{'0', '5',  '3', '\0',  '\0'},
		{'0', '5',  '6', '\0',  '\0'},
		{'0', '6',  '7', '\0',  '\0'},
		{'1', '2',  '3', '\0',  '\0'},
		{'2', '5',  '6', '\0',  '\0'},
		{'7', '4',  '1', '\0',  '\0'},
		{'7', '4',  '2', '\0',  '\0'},
		{'7', '4',  '6', '\0',  '\0'},
		{'7', '4',  '7', '\0',  '\0'},
		{'7', '5',  '2', '\0',  '\0'},
		{'7', '5',  '5', '\0',  '\0'},
		{'7', '6',  '0', '\0',  '\0'},
		{'7', '6',  '2', '\0',  '\0'},
		{'7', '6',  '4', '\0',  '\0'},
		{'7', '6',  '8', '\0',  '\0'},
		{'7', '8',  '4', '\0',  '\0'},
		{'7', '8',  '5', '\0',  '\0'},
		{'7', '8',  '9', '\0',  '\0'},
		{'7', '9',  '0', '\0',  '\0'},
		{'8', '0',  '3', '\0',  '\0'},
		{'8', '0',  '7', '\0',  '\0'},
		{'8', '0',  '8', '\0',  '\0'},
		{'8', '1',  '1', '\0',  '\0'},
		{'8', '1',  '2', '\0',  '\0'},
		{'8', '4',  '4', '\0',  '\0'},
		{'8', '4',  '5', '\0',  '\0'},
		{'8', '6',  '6', '\0',  '\0'},
		{'9', '0',  '3', '\0',  '\0'},
		{'9', '0',  '5', '\0',  '\0'},
		{'9', '0',  '6', '\0',  '\0'},
		{'9', '0',  '7', '\0',  '\0'},
		{'9', '0',  '8', '\0',  '\0'},
		{'9', '1',  '1', '\0',  '\0'},
		{'9', '1',  '2', '\0',  '\0'},
		{'9', '1',  '3', '\0',  '\0'},
		{'9', '1',  '4', '\0',  '\0'},
		{'9', '3',  '1', '\0',  '\0'},
		{'9', '3',  '3', '\0',  '\0'},
		{'9', '3',  '9', '\0',  '\0'},
		{'9', '4',  '3', '\0',  '\0'},
		{'9', '4',  '4', '\0',  '\0'},
		{'9', '4',  '5', '\0',  '\0'},
		{'9', '5',  '1', '\0',  '\0'},
		{'9', '5',  '5', '\0',  '\0'},
		{'9', '6',  '6', '\0',  '\0'}
};

static uint8_t t12_number	= sizeof(t12_names) / tip_name_sz;
static uint8_t jbc_number	= sizeof(jbc_names) / tip_name_sz;

uint8_t TIPS::total(void) {
	return t12_number + jbc_number;
}

uint8_t TIPS::t12Tips(void) {
	return t12_number;
}

uint8_t TIPS::jbcTips(void) {
	return jbc_number;
}

uint8_t TIPS::jbcFirstIndex(void) {
	return t12_number;
}

bool TIPS::isExtraTip(uint8_t index) {
	return (index < jbc_number && index >= jbc_number - 2);
}

const char* TIPS::name(uint8_t index) {
	if (index < t12_number) {
		return t12_names[index];
	}
	index -= t12_number;
	if (index < jbc_number) {
		return jbc_names[index];
	}
	return 0;
}

int TIPS::index(const char *name) {
	for (uint16_t i = 0; i < t12_number; ++i) {
		if (strncmp(name, t12_names[i], tip_name_sz) == 0)
			return i;
	}
	for (uint16_t i = 0; i < jbc_number; ++i) {
		if (strncmp(name, jbc_names[i], tip_name_sz) == 0)
			return i + t12_number;
	}
	return -1;
}
